(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{112:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(3),r=n(7),i=(n(0),n(152)),o={title:"getWaveformPortion()",id:"get-waveform-portion"},l={unversionedId:"get-waveform-portion",id:"get-waveform-portion",isDocsHomePage:!1,title:"getWaveformPortion()",description:"Part of the @remotion/media-utils package of helper functions.",source:"@site/docs/get-waveform-portion.md",slug:"/get-waveform-portion",permalink:"/docs/get-waveform-portion",editUrl:"https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/get-waveform-portion.md",version:"current",sidebar:"someSidebar",previous:{title:"getVideoMetadata()",permalink:"/docs/get-video-metadata"},next:{title:"useAudioData()",permalink:"/docs/use-audio-data"}},c=[{value:"Arguments",id:"arguments",children:[{value:"<code>options</code>",id:"options",children:[]}]},{value:"Return value",id:"return-value",children:[]},{value:"Example",id:"example",children:[]},{value:"Alternatives",id:"alternatives",children:[]}],u={toc:c};function b(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Part of the ",Object(i.b)("inlineCode",{parentName:"em"},"@remotion/media-utils"))," package of helper functions."),Object(i.b)("p",null,"Takes bulky waveform data (for example fetched by ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"get-audio-data"}),Object(i.b)("inlineCode",{parentName:"a"},"getAudioData()")),") and returns a trimmed and simplified version of it, for simpler visualization. This function is suitable if you only need volume data, if you need more detailed data about each frequency range, use ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"visualize-audio"}),Object(i.b)("inlineCode",{parentName:"a"},"visualizeAudio()")),"."),Object(i.b)("h2",{id:"arguments"},"Arguments"),Object(i.b)("h3",{id:"options"},Object(i.b)("inlineCode",{parentName:"h3"},"options")),Object(i.b)("p",null,"An object with the following arguments:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"audioData"),": ",Object(i.b)("inlineCode",{parentName:"li"},"AudioData")," - information about the audio. Use ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"get-audio-data"}),Object(i.b)("inlineCode",{parentName:"a"},"getAudioData()"))," to fetch it."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"startTimeInSeconds"),": ",Object(i.b)("inlineCode",{parentName:"li"},"number")," - trim the waveform to exclude all data before ",Object(i.b)("inlineCode",{parentName:"li"},"startTimeInSeconds"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"durationInSeconds"),": ",Object(i.b)("inlineCode",{parentName:"li"},"number")," - trim the waveform to exclude all data after ",Object(i.b)("inlineCode",{parentName:"li"},"startTimeInSeconds + durationInSeconds"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"numberOfSamples"),": ",Object(i.b)("inlineCode",{parentName:"li"},"number")," - how big you want the result array to be. The function will compress the waveform to fit in ",Object(i.b)("inlineCode",{parentName:"li"},"numberOfSamples")," data points.")),Object(i.b)("h2",{id:"return-value"},"Return value"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Bar[]")," - An array of objects with the following properties:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"index"),": ",Object(i.b)("inlineCode",{parentName:"li"},"number")," - the index of the datapoint, starting at 0. Useful for specifying as React ",Object(i.b)("inlineCode",{parentName:"li"},"key")," attribute without getting a warning."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"amplitude"),": ",Object(i.b)("inlineCode",{parentName:"li"},"number")," - a value describing the amplitude / volume / loudness of the audio.")),Object(i.b)("h2",{id:"example"},"Example"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {getAudioData} from '@remotion/media-utils';\nimport music from './music.mp3';\n\nconst audioData = await getAudioData(music); /* {\n  channelWaveforms: [Float32Array(4410000), Float32Array(4410000)],\n  sampleRate: 44100,\n  durationInSeconds: 100.0000,\n  numberOfChannels: 2,\n  resultId: \"0.432878981\",\n  isRemote: false\n} */\n\nawait waveformPortion = getWaveformPortion({\n  audioData,\n  // Will select time range of 20-40 seconds\n  startTimeInSeconds: 20,\n  durationInSeconds: 20,\n  numberOfSamples: 10\n}) // [{index: 0, amplitude: 1.2203}, ... {index: 9, amplitude: 3.2211}]\n\nconsole.log(waveformPortion.length) // 10\n")),Object(i.b)("h2",{id:"alternatives"},"Alternatives"),Object(i.b)("p",null,"The ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"visualize-audio"}),Object(i.b)("inlineCode",{parentName:"a"},"visualizeAudio()"))," function is more suitable for visualizing audio based on frequency properties of the audio (bass, mids, highs, etc)."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/using-audio"}),"Using audio")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/audio"}),Object(i.b)("inlineCode",{parentName:"a"},"<Audio/>")))))}b.isMDXComponent=!0},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return s}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),b=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=b(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=b(n),p=a,s=d["".concat(o,".").concat(p)]||d[p]||m[p]||i;return n?r.a.createElement(s,l(l({ref:t},u),{},{components:n})):r.a.createElement(s,l({ref:t},u))}));function s(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);