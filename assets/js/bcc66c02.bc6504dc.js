(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6152],{3905:function(e,a,t){"use strict";t.d(a,{Zo:function(){return d},kt:function(){return N}});var n=t(2784);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var l=n.createContext({}),i=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=i(e.components);return n.createElement(l.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=i(t),N=s,k=c["".concat(l,".").concat(N)]||c[N]||m[N]||r;return t?n.createElement(k,o(o({ref:a},d),{},{components:t})):n.createElement(k,o({ref:a},d))}));function N(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var r=t.length,o=new Array(r);o[0]=c;var p={};for(var l in a)hasOwnProperty.call(a,l)&&(p[l]=a[l]);p.originalType=e,p.mdxType="string"==typeof e?e:s,o[1]=p;for(var i=2;i<r;i++)o[i]=t[i];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1819:function(e,a,t){"use strict";t.r(a),t.d(a,{frontMatter:function(){return p},contentTitle:function(){return l},metadata:function(){return i},toc:function(){return d},default:function(){return c}});var n=t(2122),s=t(9756),r=(t(2784),t(3905)),o=["components"],p={id:"ssr",title:"Server-Side Rendering"},l=void 0,i={unversionedId:"ssr",id:"ssr",isDocsHomePage:!1,title:"Server-Side Rendering",description:"Remotion's rendering engine is built upon Node.JS, which makes it exceptionally easy to render a video in the cloud.",source:"@site/docs/ssr.md",sourceDirName:".",slug:"/ssr",permalink:"/docs/ssr",editUrl:"https://github.com/remotion-dev/remotion/edit/main/packages/docs/docs/ssr.md",version:"current",frontMatter:{id:"ssr",title:"Server-Side Rendering"},sidebar:"someSidebar",previous:{title:"Dynamic duration, FPS & dimensions",permalink:"/docs/dynamic-metadata"},next:{title:"Custom Webpack config",permalink:"/docs/webpack"}},d=[{value:"Render a video programmatically",id:"render-a-video-programmatically",children:[]},{value:"Render using a HTTP server",id:"render-using-a-http-server",children:[]},{value:"Render using a HTTP server (Dockerized)",id:"render-using-a-http-server-dockerized",children:[]},{value:"Render using GitHub Actions",id:"render-using-github-actions",children:[]},{value:"Rendering a video using serverless",id:"rendering-a-video-using-serverless",children:[]},{value:"API reference",id:"api-reference",children:[]}],m={toc:d};function c(e){var a=e.components,t=(0,s.Z)(e,o);return(0,r.kt)("wrapper",(0,n.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Remotion's rendering engine is built upon Node.JS, which makes it exceptionally easy to render a video in the cloud."),(0,r.kt)("p",null,"Since Remotion is built with tech (",(0,r.kt)("em",{parentName:"p"},"Node.JS, FFMPEG, Puppeteer"),") that works well cross-platform, you can without much hassle run it on a Linux-based system or even dockerize your video."),(0,r.kt)("p",null,"On this page, we demonstrate the server-rendering capabilities or Remotion using examples ",(0,r.kt)("a",{parentName:"p",href:"/docs#installation"},"built into the template"),"!"),(0,r.kt)("h2",{id:"render-a-video-programmatically"},"Render a video programmatically"),(0,r.kt)("p",null,"The NPM package ",(0,r.kt)("inlineCode",{parentName:"p"},"@remotion/renderer")," provides you with an API for rendering the videos programmatically. You can make a video in three steps: creating a Webpack bundle, rendering the frames, and stitching them together to an MP4. This gives you more independence and allows you to for example skip the stitching process, if you just want a PNG sequence."),(0,r.kt)("p",null,"Follow this commented example to see how to render a video:"),(0,r.kt)("div",{className:"shiki-twoslash-fragment"},(0,r.kt)("pre",{parentName:"div",className:"shiki min-light twoslash lsp",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs"\nimport fs'},"fs")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'fs'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "os"\nimport os'},"os")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'os'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'path'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) const bundle: (entryPoint: string, onProgressUpdate?: ((progress: number) => void) | undefined, options?: {\n    webpackOverride?: WebpackOverrideFn | undefined;\n    outDir?: string | undefined;\n    enableCaching?: boolean | undefined;\n} | undefined) => Promise<string>\nimport bundle"},"bundle"),"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'@remotion/bundler'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) const getCompositions: (webpackBundle: string, config?: GetCompositionsConfig | undefined) => Promise<TCompMetadata[]>\nimport getCompositions"},"getCompositions"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) const renderFrames: ({ config, parallelism, onFrameUpdate, compositionId, outputDir, onStart, inputProps, envVariables, webpackBundle, quality, imageFormat, browser, frameRange, dumpBrowserLogs, puppeteerInstance, onError, }: {\n    config: VideoConfig;\n    compositionId: string;\n    onStart: (data: OnStartData) => void;\n    onFrameUpdate: (f: number) => void;\n    outputDir: string;\n    inputProps: unknown;\n    envVariables?: Record<string, string> | undefined;\n    webpackBundle: string;\n    imageFormat: ImageFormat;\n    parallelism?: number | null | undefined;\n    quality?: number | undefined;\n    browser?: "chrome" | "firefox" | undefined;\n    frameRange?: number | [number, number] | null | undefined;\n    dumpBrowserLogs?: boolean | undefined;\n    puppeteerInstance?: PuppeteerBrowser | undefined;\n    onError?: ((info: OnErrorInfo) => void) | undefined;\n}) => Promise<RenderFramesOutput>\nimport renderFrames'},"renderFrames"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) const stitchFramesToVideo: (options: {\n    dir: string;\n    fps: number;\n    width: number;\n    height: number;\n    outputLocation: string;\n    force: boolean;\n    assetsInfo: RenderAssetInfo;\n    imageFormat?: "none" | "png" | "jpeg" | undefined;\n    pixelFormat?: "yuv420p" | "yuva420p" | "yuv422p" | "yuv444p" | "yuv420p10le" | "yuv422p10le" | "yuv444p10le" | "yuva444p10le" | undefined;\n    codec?: import("remotion/dist/config/codec").CodecOrUndefined;\n    crf?: number | undefined;\n    parallelism?: number | null | undefined;\n    onProgress?: ((progress: number) => void) | undefined;\n    onDownload?: ((src: string) => void) | undefined;\n    proResProfile?: "light" | "4444-xq" | "4444" | "hq" | "standard" | "proxy" | undefined;\n    verbose?: boolean | undefined;\n}) => Promise<void>\nimport stitchFramesToVideo'},"stitchFramesToVideo"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'@remotion/renderer'")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const start: () => Promise<void>"},"start")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"async"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," () "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// The composition you want to render")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'HelloWorld'")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Create a webpack bundle of the entry file.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) bundle(entryPoint: string, onProgressUpdate?: ((progress: number) => void) | undefined, options?: {\n    webpackOverride?: WebpackOverrideFn | undefined;\n    outDir?: string | undefined;\n    enableCaching?: boolean | undefined;\n} | undefined): Promise<...>\nimport bundle"},"bundle")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var require: NodeRequire"},"require")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) NodeJS.Require.resolve: NodeJS.RequireResolve\n(id: string, options?: {\n    paths?: string[] | undefined;\n} | undefined) => string"},"resolve")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'./src/index'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"))")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Extract all the compositions you have defined in your project")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// from the webpack bundle.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const comps: TCompMetadata[]"},"comps")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) getCompositions(webpackBundle: string, config?: GetCompositionsConfig | undefined): Promise<TCompMetadata[]>\nimport getCompositions"},"getCompositions")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled"),", {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// You can pass custom input props that you can retrieve using getInputProps()")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// in the composition list. Use this if you want to dynamically set the duration or")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// dimensions of the video.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) inputProps?: object | null | undefined"},"inputProps")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"      ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) custom: string"},"custom")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'data'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Select the composition you want to render.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata | undefined"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const comps: TCompMetadata[]"},"comps")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Array<TCompMetadata>.find(predicate: (value: TCompMetadata, index: number, obj: TCompMetadata[]) => unknown, thisArg?: any): TCompMetadata | undefined (+1 overload)"},"find")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"((",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) c: TCompMetadata"},"c"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) c: TCompMetadata"},"c")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) id: string"},"id")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"==="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId"),")")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Ensure the composition exists")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"if"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ("),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"!"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata | undefined"},"composition"),") {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"throw"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"new"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var Error: ErrorConstructor\nnew (message?: string | undefined) => Error"},"Error")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"`No composition with the ID "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"${"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"}"),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}}," found`"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  }")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// We create a temporary directory for storing the frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs"\nimport fs'},"fs")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},"."),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs/promises"\nexport promises'},"promises")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"function mkdtemp(prefix: string, options?: fs.BaseEncodingOptions | BufferEncoding | null | undefined): Promise<string> (+2 overloads)"},"mkdtemp")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) path.PlatformPath.join(...paths: string[]): string"},"join")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "os"\nimport os'},"os")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"function tmpdir(): string"},"tmpdir")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(), "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'remotion-'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  )")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// We create JPEGs for all frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {"),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const assetsInfo: RenderAssetInfo"},"assetsInfo")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) renderFrames({ config, parallelism, onFrameUpdate, compositionId, outputDir, onStart, inputProps, envVariables, webpackBundle, quality, imageFormat, browser, frameRange, dumpBrowserLogs, puppeteerInstance, onError, }: {\n    config: VideoConfig;\n    compositionId: string;\n    onStart: (data: OnStartData) => void;\n    onFrameUpdate: (f: number) => void;\n    outputDir: string;\n    inputProps: unknown;\n    envVariables?: Record<...> | undefined;\n    ... 8 more ...;\n    onError?: ((info: OnErrorInfo) => void) | undefined;\n}): Promise<...>\nimport renderFrames"},"renderFrames")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"({")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) config: VideoConfig"},"config")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Path of the webpack bundle you have created")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) webpackBundle: string"},"webpackBundle")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Get's called after bundling is finished and the")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// actual rendering starts.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onStart: (data: OnStartData) => void"},"onStart")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," () "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"namespace console\nvar console: Console"},"console")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)"},"log")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'Rendering frames...'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"),")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onFrameUpdate: (f: number) => void"},"onFrameUpdate")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"      "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Log a message whenever 10 frames have rendered.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"      "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"if"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"%"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"10"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"==="),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"0"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},") {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"        "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"namespace console\nvar console: Console"},"console")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)"},"log")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"`Rendered frame "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"${"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"}"),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"`"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"      }")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// How many CPU threads to use. `null` will use a sane default (half of the available threads)")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// See 'CLI options' section for concurrency options.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) parallelism?: number | null | undefined"},"parallelism")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"null"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) outputDir: string"},"outputDir")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// React props passed to the root component of the sequence. Will be merged with the `defaultProps` of a composition.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) inputProps: unknown"},"inputProps")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"      ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) titleText: string"},"titleText")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'Hello World'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) compositionId: string"},"compositionId"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Can be either 'jpeg' or 'png'. JPEG is faster, but has no transparency.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) imageFormat: "png" | "jpeg" | "none"'},"imageFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'jpeg'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Add this step if you want to make an MP4 out of the rendered frames.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) stitchFramesToVideo(options: {\n    dir: string;\n    fps: number;\n    width: number;\n    height: number;\n    outputLocation: string;\n    force: boolean;\n    assetsInfo: RenderAssetInfo;\n    imageFormat?: "png" | "jpeg" | "none" | undefined;\n    ... 7 more ...;\n    verbose?: boolean | undefined;\n}): Promise<...>\nimport stitchFramesToVideo'},"stitchFramesToVideo")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"({")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Input directory of the frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) dir: string"},"dir")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Overwrite existing video")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) force: boolean"},"force")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},"true"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Possible overwrite of video metadata,")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// we suggest to just fill in the data from the")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// video variable")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) fps: number"},"fps")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) fps: number"},"fps"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) height: number"},"height")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) height: number"},"height"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) width: number"},"width")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) width: number"},"width"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Must match the value above for the image format")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) imageFormat?: "png" | "jpeg" | "none" | undefined'},"imageFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'jpeg'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Pass in the desired output path of the video. Et voil\xe0!")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) outputLocation: string"},"outputLocation")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) path.PlatformPath.join(...paths: string[]): string"},"join")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"(",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),", "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'out.mp4'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"),")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// FFMPEG pixel format")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) pixelFormat?: "yuv420p" | "yuva420p" | "yuv422p" | "yuv444p" | "yuv420p10le" | "yuv422p10le" | "yuv444p10le" | "yuva444p10le" | undefined'},"pixelFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},"'yuv420p'"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Information needed to construct audio correctly.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) assetsInfo: RenderAssetInfo"},"assetsInfo"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#C2C3C5"}},"// Hook into the FFMPEG progress")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onProgress?: ((progress: number) => void) | undefined"},"onProgress")),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) frame: number"},"frame"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#1976D2"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var undefined"},"undefined"))),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"}")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const start: () => Promise<void>"},"start")),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"()"))))),(0,r.kt)("pre",{parentName:"div",className:"shiki min-dark twoslash lsp",style:{backgroundColor:"#1f1f1f",color:"#b392f0"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"tsx"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs"\nimport fs'},"fs")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'fs'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "os"\nimport os'},"os")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'os'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'path'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) const bundle: (entryPoint: string, onProgressUpdate?: ((progress: number) => void) | undefined, options?: {\n    webpackOverride?: WebpackOverrideFn | undefined;\n    outDir?: string | undefined;\n    enableCaching?: boolean | undefined;\n} | undefined) => Promise<string>\nimport bundle"},"bundle"),"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'@remotion/bundler'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"import"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) const getCompositions: (webpackBundle: string, config?: GetCompositionsConfig | undefined) => Promise<TCompMetadata[]>\nimport getCompositions"},"getCompositions"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) const renderFrames: ({ config, parallelism, onFrameUpdate, compositionId, outputDir, onStart, inputProps, envVariables, webpackBundle, quality, imageFormat, browser, frameRange, dumpBrowserLogs, puppeteerInstance, onError, }: {\n    config: VideoConfig;\n    compositionId: string;\n    onStart: (data: OnStartData) => void;\n    onFrameUpdate: (f: number) => void;\n    outputDir: string;\n    inputProps: unknown;\n    envVariables?: Record<string, string> | undefined;\n    webpackBundle: string;\n    imageFormat: ImageFormat;\n    parallelism?: number | null | undefined;\n    quality?: number | undefined;\n    browser?: "chrome" | "firefox" | undefined;\n    frameRange?: number | [number, number] | null | undefined;\n    dumpBrowserLogs?: boolean | undefined;\n    puppeteerInstance?: PuppeteerBrowser | undefined;\n    onError?: ((info: OnErrorInfo) => void) | undefined;\n}) => Promise<RenderFramesOutput>\nimport renderFrames'},"renderFrames"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) const stitchFramesToVideo: (options: {\n    dir: string;\n    fps: number;\n    width: number;\n    height: number;\n    outputLocation: string;\n    force: boolean;\n    assetsInfo: RenderAssetInfo;\n    imageFormat?: "none" | "png" | "jpeg" | undefined;\n    pixelFormat?: "yuv420p" | "yuva420p" | "yuv422p" | "yuv444p" | "yuv420p10le" | "yuv422p10le" | "yuv444p10le" | "yuva444p10le" | undefined;\n    codec?: import("remotion/dist/config/codec").CodecOrUndefined;\n    crf?: number | undefined;\n    parallelism?: number | null | undefined;\n    onProgress?: ((progress: number) => void) | undefined;\n    onDownload?: ((src: string) => void) | undefined;\n    proResProfile?: "light" | "4444-xq" | "4444" | "hq" | "standard" | "proxy" | undefined;\n    verbose?: boolean | undefined;\n}) => Promise<void>\nimport stitchFramesToVideo'},"stitchFramesToVideo"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"from"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'@remotion/renderer'")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const start: () => Promise<void>"},"start")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"async"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," () "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// The composition you want to render")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'HelloWorld'")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Create a webpack bundle of the entry file.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) bundle(entryPoint: string, onProgressUpdate?: ((progress: number) => void) | undefined, options?: {\n    webpackOverride?: WebpackOverrideFn | undefined;\n    outDir?: string | undefined;\n    enableCaching?: boolean | undefined;\n} | undefined): Promise<...>\nimport bundle"},"bundle"),"("),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var require: NodeRequire"},"require")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) NodeJS.Require.resolve: NodeJS.RequireResolve\n(id: string, options?: {\n    paths?: string[] | undefined;\n} | undefined) => string"},"resolve"),"("),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'./src/index'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"))")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Extract all the compositions you have defined in your project")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// from the webpack bundle.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const comps: TCompMetadata[]"},"comps")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) getCompositions(webpackBundle: string, config?: GetCompositionsConfig | undefined): Promise<TCompMetadata[]>\nimport getCompositions"},"getCompositions"),"(",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled"),", {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// You can pass custom input props that you can retrieve using getInputProps()")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// in the composition list. Use this if you want to dynamically set the duration or")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// dimensions of the video.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) inputProps?: object | null | undefined"},"inputProps")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"      ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) custom: string"},"custom")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'data'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Select the composition you want to render.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata | undefined"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const comps: TCompMetadata[]"},"comps")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Array<TCompMetadata>.find(predicate: (value: TCompMetadata, index: number, obj: TCompMetadata[]) => unknown, thisArg?: any): TCompMetadata | undefined (+1 overload)"},"find"),"((",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) c: TCompMetadata"},"c"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) c: TCompMetadata"},"c")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) id: string"},"id")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"==="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId"),")")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Ensure the composition exists")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"if"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ("),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"!"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata | undefined"},"composition"),") {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"throw"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"new"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var Error: ErrorConstructor\nnew (message?: string | undefined) => Error"},"Error")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"("),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"`No composition with the ID "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"${"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'const compositionId: "HelloWorld"'},"compositionId")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"}"),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}}," found`"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  }")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// We create a temporary directory for storing the frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs"\nimport fs'},"fs")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"."),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "fs/promises"\nexport promises'},"promises")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"function mkdtemp(prefix: string, options?: fs.BaseEncodingOptions | BufferEncoding | null | undefined): Promise<string> (+2 overloads)"},"mkdtemp"),"(")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) path.PlatformPath.join(...paths: string[]): string"},"join"),"("),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) module "os"\nimport os'},"os")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"function tmpdir(): string"},"tmpdir"),"(), "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'remotion-'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  )")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// We create JPEGs for all frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"const"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {"),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const assetsInfo: RenderAssetInfo"},"assetsInfo")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"} "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) renderFrames({ config, parallelism, onFrameUpdate, compositionId, outputDir, onStart, inputProps, envVariables, webpackBundle, quality, imageFormat, browser, frameRange, dumpBrowserLogs, puppeteerInstance, onError, }: {\n    config: VideoConfig;\n    compositionId: string;\n    onStart: (data: OnStartData) => void;\n    onFrameUpdate: (f: number) => void;\n    outputDir: string;\n    inputProps: unknown;\n    envVariables?: Record<...> | undefined;\n    ... 8 more ...;\n    onError?: ((info: OnErrorInfo) => void) | undefined;\n}): Promise<...>\nimport renderFrames"},"renderFrames"),"({")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) config: VideoConfig"},"config")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Path of the webpack bundle you have created")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) webpackBundle: string"},"webpackBundle")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const bundled: string"},"bundled"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Get's called after bundling is finished and the")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// actual rendering starts.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onStart: (data: OnStartData) => void"},"onStart")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," () "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"namespace console\nvar console: Console"},"console")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)"},"log"),"("),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'Rendering frames...'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"),")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onFrameUpdate: (f: number) => void"},"onFrameUpdate")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"      "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Log a message whenever 10 frames have rendered.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"      "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"if"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f")," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"%"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F8F8F8"}},"10"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"==="),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F8F8F8"}},"0"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},") {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"        "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"namespace console\nvar console: Console"},"console")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)"},"log"),"("),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"`Rendered frame "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"${"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) f: number"},"f")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"}"),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"`"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},")")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"      }")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// How many CPU threads to use. `null` will use a sane default (half of the available threads)")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// See 'CLI options' section for concurrency options.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) parallelism?: number | null | undefined"},"parallelism")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},"null"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) outputDir: string"},"outputDir")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// React props passed to the root component of the sequence. Will be merged with the `defaultProps` of a composition.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) inputProps: unknown"},"inputProps")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," {")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"      ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) titleText: string"},"titleText")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'Hello World'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    },")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) compositionId: string"},"compositionId"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Can be either 'jpeg' or 'png'. JPEG is faster, but has no transparency.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) imageFormat: "png" | "jpeg" | "none"'},"imageFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'jpeg'")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Add this step if you want to make an MP4 out of the rendered frames.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"await"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(alias) stitchFramesToVideo(options: {\n    dir: string;\n    fps: number;\n    width: number;\n    height: number;\n    outputLocation: string;\n    force: boolean;\n    assetsInfo: RenderAssetInfo;\n    imageFormat?: "png" | "jpeg" | "none" | undefined;\n    ... 7 more ...;\n    verbose?: boolean | undefined;\n}): Promise<...>\nimport stitchFramesToVideo'},"stitchFramesToVideo"),"({")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Input directory of the frames")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) dir: string"},"dir")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Overwrite existing video")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) force: boolean"},"force")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},"true"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Possible overwrite of video metadata,")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// we suggest to just fill in the data from the")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// video variable")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) fps: number"},"fps")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) fps: number"},"fps"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) height: number"},"height")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) height: number"},"height"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) width: number"},"width")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const composition: TCompMetadata"},"composition")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) width: number"},"width"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Must match the value above for the image format")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) imageFormat?: "png" | "jpeg" | "none" | undefined'},"imageFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'jpeg'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Pass in the desired output path of the video. Et voil\xe0!")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) outputLocation: string"},"outputLocation")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"(alias) namespace path\n(alias) const path: PlatformPath\nimport path"},"path")),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},".",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(method) path.PlatformPath.join(...paths: string[]): string"},"join"),"(",(0,r.kt)("data-lsp",{parentName:"span",lsp:"const framesDir: string"},"framesDir"),", "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'out.mp4'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"),")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// FFMPEG pixel format")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:'(property) pixelFormat?: "yuv420p" | "yuva420p" | "yuv422p" | "yuv444p" | "yuv420p10le" | "yuv422p10le" | "yuv444p10le" | "yuva444p10le" | undefined'},"pixelFormat")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},"'yuv420p'"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Information needed to construct audio correctly.")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) assetsInfo: RenderAssetInfo"},"assetsInfo"),",")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    "),(0,r.kt)("span",{parentName:"div",style:{color:"#4E5761"}},"// Hook into the FFMPEG progress")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"    ",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(property) onProgress?: ((progress: number) => void) | undefined"},"onProgress")),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},":"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," (",(0,r.kt)("data-lsp",{parentName:"span",lsp:"(parameter) frame: number"},"frame"),") "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},"=>"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#79B8FF"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"var undefined"},"undefined"))),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"  })")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"}")),(0,r.kt)("div",{parentName:"code",className:"line"},"\xa0"),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},(0,r.kt)("data-lsp",{parentName:"span",lsp:"const start: () => Promise<void>"},"start"),"()")))))),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Many projects created before April 27th are missing the extra parameter for ",(0,r.kt)("inlineCode",{parentName:"p"},"getCompositions()"),". Make sure to add it if you want to use input props to control duration or dimensions of the video."))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/parametrized-rendering#passing-props-in-github-actions"},"See also: Passing props in GitHub Actions")),(0,r.kt)("h2",{id:"render-using-a-http-server"},"Render using a HTTP server"),(0,r.kt)("p",null,"In the ",(0,r.kt)("a",{parentName:"p",href:"/docs#installation"},"template"),", we added a minimal example of an HTTP server that dynamically returns a video whenever you call the URL."),(0,r.kt)("p",null,"The server is located under ",(0,r.kt)("inlineCode",{parentName:"p"},"server.tsx"),", and you can run it using ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run server"),". Call the default URL with parameters, and it will return a video after some time! Try it out in the browser or using cURL:"),(0,r.kt)("div",{className:"shiki-twoslash-fragment"},(0,r.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"curl "),(0,r.kt)("span",{parentName:"div",style:{color:"#22863A"}},'"http://localhost:8000?titleText=Hello,+World!&titleColor=red"'),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#D32F2F"}},">"),(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}}," output.mp4"))))),(0,r.kt)("pre",{parentName:"div",className:"shiki min-dark",style:{backgroundColor:"#1f1f1f",color:"#b392f0"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"curl "),(0,r.kt)("span",{parentName:"div",style:{color:"#FFAB70"}},'"http://localhost:8000?titleText=Hello,+World!&titleColor=red"'),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," "),(0,r.kt)("span",{parentName:"div",style:{color:"#F97583"}},">"),(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}}," output.mp4")))))),(0,r.kt)("p",null,"Note that we only added a minimal example. For production, you should consider adding a queueing system and rate limiting."),(0,r.kt)("h2",{id:"render-using-a-http-server-dockerized"},"Render using a HTTP server (Dockerized)"),(0,r.kt)("p",null,"We added a Dockerfile that includes FFMPEG and added it to the template. That means you can also run the server described in the section above using Docker."),(0,r.kt)("div",{className:"shiki-twoslash-fragment"},(0,r.kt)("pre",{parentName:"div",className:"shiki min-light",style:{backgroundColor:"#ffffff",color:"#24292eff"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"docker build -t my-video "),(0,r.kt)("span",{parentName:"div",style:{color:"#6F42C1"}},".")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#24292EFF"}},"docker run -p 8000:8000 --privileged my-video"))))),(0,r.kt)("pre",{parentName:"div",className:"shiki min-dark",style:{backgroundColor:"#1f1f1f",color:"#b392f0"}},(0,r.kt)("div",{parentName:"pre",className:"language-id"},"bash"),(0,r.kt)("div",{parentName:"pre",className:"code-container"},(0,r.kt)("code",{parentName:"div"},(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"docker build -t my-video .")),(0,r.kt)("div",{parentName:"code",className:"line"},(0,r.kt)("span",{parentName:"div",style:{color:"#B392F0"}},"docker run -p 8000:8000 --privileged my-video")))))),(0,r.kt)("h2",{id:"render-using-github-actions"},"Render using GitHub Actions"),(0,r.kt)("p",null,"The template includes a GitHub Actions workflow file\nunder ",(0,r.kt)("inlineCode",{parentName:"p"},".github/workflows/render-video.yml"),". All you have to do is to adjust the props that your root component accepts in the workflow file and you can render a video right on GitHub."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Commit the template to a GitHub repository"),(0,r.kt)("li",{parentName:"ol"},"On GitHub, click the 'Actions' tab."),(0,r.kt)("li",{parentName:"ol"},"Select the 'Render video' workflow on the left."),(0,r.kt)("li",{parentName:"ol"},"A 'Run workflow' button should appear. Click it"),(0,r.kt)("li",{parentName:"ol"},"Fill in the props of the root component and click 'Run workflow'."),(0,r.kt)("li",{parentName:"ol"},"After the rendering is finished, you can download the video under 'Artifacts'.")),(0,r.kt)("p",null,"Note that running the workflow may incur costs. However, the workflow will only run if you actively trigger it."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/parametrized-rendering#passing-props-in-github-actions"},"See also: Passing props in GitHub Actions")),(0,r.kt)("h2",{id:"rendering-a-video-using-serverless"},"Rendering a video using serverless"),(0,r.kt)("p",null,"We are working on a library which will help you render videos using AWS Lambda. Contact us if you are interested in testing an early version."),(0,r.kt)("h2",{id:"api-reference"},"API reference"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/bundle"},"bundle()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/get-compositions"},"getCompositions()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/render-frames"},"renderFrames()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/stitch-frames-to-video"},"stitchFramesToVideo()"))))}c.isMDXComponent=!0}}]);