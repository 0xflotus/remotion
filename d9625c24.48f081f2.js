(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{136:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),o=(n(0),n(150)),i={title:"interpolate()",id:"interpolate"},l={unversionedId:"interpolate",id:"interpolate",isDocsHomePage:!1,title:"interpolate()",description:"Allows you to map a range of values to another using a concise syntax.",source:"@site/docs/interpolate.md",slug:"/interpolate",permalink:"/docs/interpolate",editUrl:"https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/interpolate.md",version:"current",sidebar:"someSidebar",previous:{title:"delayRender() and continueRender()",permalink:"/docs/delay-render"},next:{title:"getInputProps()",permalink:"/docs/get-input-props"}},p=[{value:"Example: Fade-in effect",id:"example-fade-in-effect",children:[]},{value:"Example: Fade in and out",id:"example-fade-in-and-out",children:[]},{value:"Example: interpolate a spring animation",id:"example-interpolate-a-spring-animation",children:[]},{value:"Example: Prevent the output from going outside the output range",id:"example-prevent-the-output-from-going-outside-the-output-range",children:[]},{value:"Reference",id:"reference",children:[{value:"Params",id:"params",children:[]},{value:"Options",id:"options",children:[]}]},{value:"See also",id:"see-also",children:[]}],c={toc:p};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Allows you to map a range of values to another using a concise syntax."),Object(o.b)("h2",{id:"example-fade-in-effect"},"Example: Fade-in effect"),Object(o.b)("p",null,"In this example, we are fading in some content by calculating the opacity for a certain point of time.\nAt frame 0 (the start of the video), we want the opacity to be 0.\nAt frame 20, we want the opacity to be 1."),Object(o.b)("p",null,"Using the following snippet, we can calculate the current opacity for any frame:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {useCurrentFrame, interpolate} from 'remotion'\n\nconst frame = useCurrentFrame(); // 10\nconst opacity = interpolate(input,\n  [0, 20],\n  [0, 1]\n); // 0.5\n")),Object(o.b)("h2",{id:"example-fade-in-and-out"},"Example: Fade in and out"),Object(o.b)("p",null,"We keep our fade in effect but add a fade out effect at the end.\n20 frames before the video ends, the opacity should still be 1.\nAt the end, the opacity should be 0."),Object(o.b)("p",null,"We can interpolate over multiple points in one go and use ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/use-video-config"}),Object(o.b)("inlineCode",{parentName:"a"},"useVideoConfig()"))," to determine the duration of the composition."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {useCurrentFrame, interpolate} from 'remotion'\n\nconst frame = useCurrentFrame();\nconst {durationInFrames} = useVideoConfig();\nconst opacity = interpolate(\n  input,\n  [0, 20, durationInFrames - 20, durationInFrames],\n// v--v---v----------------------v\n  [0, 1,  1,                     0]\n)\n")),Object(o.b)("h2",{id:"example-interpolate-a-spring-animation"},"Example: interpolate a spring animation"),Object(o.b)("p",null,"We don't necessarily have to interpolate over time - we can use any value to drive an animation.\nLet's assume we want to animate an object on the X axis from 0 to 200 pixels and use a spring animation for it."),Object(o.b)("p",null,"Let's create a spring:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {useCurrentFrame, interpolate, spring} from 'remotion';\n\nconst frame = useCurrentFrame();\nconst {fps} = useVideoConfig();\nconst driver = spring({\n  frame,\n  fps\n});\n")),Object(o.b)("p",null,"A ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/spring"}),Object(o.b)("inlineCode",{parentName:"a"},"spring()"))," animation will always animate from 0 to 1.\nGiven that knowledge, we can interpolate the spring value to go from 0 to 200."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"const marginLeft = interpolate(driver, [0, 1], [0, 200])\n")),Object(o.b)("p",null,"We can then apply it to an HTML element."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"<div style={{marginLeft}}></div>\n")),Object(o.b)("h2",{id:"example-prevent-the-output-from-going-outside-the-output-range"},"Example: Prevent the output from going outside the output range"),Object(o.b)("p",null,"Consider the following interpolation which is supposed to animate the scale over 20 frames:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"const scale = interpolate(frame, [0, 20], [0, 1])\n")),Object(o.b)("p",null,"This works, but after 20 frames, the value keeps growing. For example, at frame 40, the scale will be ",Object(o.b)("inlineCode",{parentName:"p"},"2"),".\nTo prevent this, this we can use the ",Object(o.b)("inlineCode",{parentName:"p"},"extrapolateLeft")," and ",Object(o.b)("inlineCode",{parentName:"p"},"extrapolateRight")," options and set them to ",Object(o.b)("inlineCode",{parentName:"p"},"'clamp'")," to prevent the result going outside the output range."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"const scale = interpolate(frame, [0, 20], [0, 1], {\n  extrapolateRight: 'clamp'\n});\n")),Object(o.b)("h2",{id:"reference"},"Reference"),Object(o.b)("h3",{id:"params"},"Params"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"The input value."),Object(o.b)("li",{parentName:"ol"},"The range of values that you expect the input to assume."),Object(o.b)("li",{parentName:"ol"},"The range of output values that you want the input to map to."),Object(o.b)("li",{parentName:"ol"},"Options object.")),Object(o.b)("h3",{id:"options"},"Options"),Object(o.b)("h4",{id:"extrapolateleft"},"extrapolateLeft"),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Default"),": ",Object(o.b)("inlineCode",{parentName:"p"},"extend")),Object(o.b)("p",null,"What should happen if the input value is outside left the input range:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"extend"),": Interpolate nonetheless, even if outside output range."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"clamp"),": Return the closest value inside the range instead"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"identity"),": Return the input value instead.")),Object(o.b)("h4",{id:"extrapolateright"},"extrapolateRight"),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Default"),": ",Object(o.b)("inlineCode",{parentName:"p"},"extend")),Object(o.b)("p",null,"Same as ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"#extrapolateleft"}),"extrapolateLeft"),", except for values outside right the input range."),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"interpolate(1.5, [0, 1], [0, 2], {extrapolateRight: 'extend'}) // 3\ninterpolate(1.5, [0, 1], [0, 2], {extrapolateRight: 'clamp'}) // 2\ninterpolate(1.5, [0, 1], [0, 2], {extrapolateRight: 'identity'}) // 1.5\n")),Object(o.b)("h4",{id:"easing"},"easing"),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Default"),": ",Object(o.b)("inlineCode",{parentName:"p"},"(x) => x")),Object(o.b)("p",null,"Function which allows you to customize the input, for example to apply a certain easing function.\nBy default, the input is left unmodified, resulting in a pure linear interpolation. ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/easing"}),"Read the documentation for the built-in easing functions"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {interpolate, Easing} from 'remotion';\n\ninterpolate(frame, [0, 100], [0, 1], {\n  easing: Easing.bezier(0.8, 0.22, 0.96, 0.65),\n  extrapolateLeft: 'clamp',\n  extrapolateRight: 'clamp',\n})\n\n//this is Remotion2.0 feature\ninterpolate(frame, [0, 10, 40, 100], [0, 0.2, 0.6, 1], {\n  easing: Easing.bezier(0.8, 0.22, 0.96, 0.65),\n  extrapolateLeft: 'clamp',\n  extrapolateRight: 'clamp',\n})\n")),Object(o.b)("h2",{id:"see-also"},"See also"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/easing"}),"Easing")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/spring"}),"spring()"))))}u.isMDXComponent=!0},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),u=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=u(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),s=u(n),m=a,d=s["".concat(i,".").concat(m)]||s[m]||b[m]||o;return n?r.a.createElement(d,l(l({ref:t},c),{},{components:n})):r.a.createElement(d,l({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);