(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{101:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return u})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return d}));var a=t(3),i=t(7),o=(t(0),t(150)),r={title:"Audio visualization",id:"audio-visualization"},u={unversionedId:"audio-visualization",id:"audio-visualization",isDocsHomePage:!1,title:"Audio visualization",description:"Using the audio visualization APIs in Remotion 2.0, you can create animations based on the frequency of the audio. This is often used to make graphics react to the volume or sound spectrum of the music.",source:"@site/docs/audio-visualization.md",slug:"/audio-visualization",permalink:"/docs/audio-visualization",editUrl:"https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/audio-visualization.md",version:"current",sidebar:"someSidebar",previous:{title:"Using randomness",permalink:"/docs/using-randomness"},next:{title:"<Img> and <IFrame> tags",permalink:"/docs/use-img-and-iframe"}},c=[{value:"Import audio",id:"import-audio",children:[]},{value:"Render audio visualization",id:"render-audio-visualization",children:[]},{value:"See also",id:"see-also",children:[]}],s={toc:c};function d(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Using the audio visualization APIs in Remotion 2.0, you can create animations based on the frequency of the audio. This is often used to make graphics react to the volume or sound spectrum of the music."),Object(o.b)("h2",{id:"import-audio"},"Import audio"),Object(o.b)("p",null,"You can import an audio file using an ",Object(o.b)("inlineCode",{parentName:"p"},"import")," statement:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import audio from './audio.mp3'\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"audio")," will resolve to a string pointing to an audio file. You may also skip importing and use an ",Object(o.b)("inlineCode",{parentName:"p"},"https://")," URL to load audio from a remote location, if the audio is allowed to be loaded by the domains CORS policy."),Object(o.b)("h2",{id:"render-audio-visualization"},"Render audio visualization"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"@remotion/media-utils")," package provides helper functions for reading and processing audio. Using the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/get-audio-data"}),Object(o.b)("inlineCode",{parentName:"a"},"getAudioData()"))," API you can read audio, and using the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/use-audio-data"}),Object(o.b)("inlineCode",{parentName:"a"},"useAudioData()"))," helper hook you can load this audio data directly into your component."),Object(o.b)("p",null,"Using the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/visualize-audio"}),Object(o.b)("inlineCode",{parentName:"a"},"visualizeAudio()"))," API, you can get an audio spectrum for the current frame, with the ",Object(o.b)("inlineCode",{parentName:"p"},"numberOfSamples")," parameter being an option to control the amount of detail you need."),Object(o.b)("p",null,"Refer to the documentation of the above mentioned functions to learn more."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"import {\n  useCurrentFrame,\n  useVideoConfig,\n  useAudioData,\n  visualizeAudio,\n  Audio\n} from 'remotion';\nimport music from './music.mp3';\n\nexport const MyComponent: React.FC = () => {\n  const frame = useCurrentFrame();\n  const {width, height, fps} = useVideoConfig();\n  const audioData = useAudioData(music);\n\n  if (!audioData) {\n    return null;\n  }\n\n  const visualization = visualizeAudio({\n    fps,\n    frame,\n    audioData,\n    numberOfSamples: 16,\n  }); // [0.22, 0.1, 0.01, 0.01, 0.01, 0.02, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n  // Render a bar chart for each frequency, the higher the amplitude,\n  // the longer the bar\n  return (\n    <div>\n      <Audio src={music}/>\n      {visualization.map(v => {\n        return (\n          <div style={{width: 1000 * v, height: 15, backgroundColor: 'blue'}} />\n        );\n      })}\n    </div>\n  )\n}\n")),Object(o.b)("h2",{id:"see-also"},"See also"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/using-audio"}),"Using audio")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/use-audio-data"}),Object(o.b)("inlineCode",{parentName:"a"},"useAudioData()"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/visualize-audio"}),Object(o.b)("inlineCode",{parentName:"a"},"visualizeAudio()")))))}d.isMDXComponent=!0},150:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"b",(function(){return b}));var a=t(0),i=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),d=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):u(u({},n),e)),t},l=function(e){var n=d(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},m=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),l=d(t),m=a,b=l["".concat(r,".").concat(m)]||l[m]||p[m]||o;return t?i.a.createElement(b,u(u({ref:n},s),{},{components:t})):i.a.createElement(b,u({ref:n},s))}));function b(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=m;var u={};for(var c in n)hasOwnProperty.call(n,c)&&(u[c]=n[c]);u.originalType=e,u.mdxType="string"==typeof e?e:a,r[1]=u;for(var s=2;s<o;s++)r[s]=t[s];return i.a.createElement.apply(null,r)}return i.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);